#import "TubeView.h"
#import "AgentTool.h"

@interface TubeView ()
<UIPickerViewDataSource, UIPickerViewDelegate>


@property (nonatomic, strong) TubeModel *twentyModel;


@property (nonatomic, assign) BOOL habitOn;
@property (nonatomic, assign) NSInteger processorMagnitude;
@property (nonatomic, assign) double identicalLineCount;
@property (nonatomic, strong) NSString *todayName;
@property (nonatomic, strong) NSMutableArray *offDescriptionArray;
@property (nonatomic, strong) NSMutableDictionary *exitPromisingDictionary;

@property (nonatomic, strong) UILabel *gatorLabel;
@property (nonatomic, strong) UIImageView *sortImageView;
@property (nonatomic, strong) UIButton *fitEssayButton;
@property (nonatomic, strong) UIView *pickView;


@property (nonatomic, assign) NSInteger restoreDomainReadQuantity;

@property (nonatomic, strong) NSString *secondaryContent;

@property (nonatomic, strong) NSMutableDictionary *identifyDictionary;






- (BOOL)viceEnable;
- (NSInteger)operationInterval;
- (double)specialNumber;
- (NSString *)shakeName;
- (NSMutableArray *)aAllArray;
- (NSMutableDictionary *)coupDictionary;

- (void)roleCallback;
- (void)gainsayAction:(id)sender;
- (void)warningRefresh;




























@end

@implementation TubeView



- (instancetype)init {
    if (self = [super init]) {
        self.frame = CGRectMake(0, 0, 56.75, 0);
        [self transmissionInit];
    }
    return self;
}

- (instancetype)initWithFrame:(CGRect)frame {
    if (self = [super initWithFrame:frame]) {
        [self transmissionInit];
    }
    return self;
}


- (instancetype)initWithCoder:(NSCoder *)aDecoder {
    if (self = [super initWithCoder:aDecoder]) {
        self.pickView = [[[UINib nibWithNibName:NSStringFromClass([self class]) bundle:nil] instantiateWithOwner:self options:nil] lastObject];
        self.pickView.frame = self.bounds;
        [self addSubview:self.pickView];
        [self transmissionInit];
    }
    return self;
}


- (void)awakeFromNib {
    [super awakeFromNib];
        UIView *meet = [self.fitEssayButton superview];
        UIButton *pride = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];
        UIControlState gravitySentence = UIControlStateNormal;
        [pride setTitleColor:[self.fitEssayButton titleColorForState:gravitySentence] forState:gravitySentence];
        [meet addSubview:pride];
}




- (void)transmissionInit {
    //: property_init



    self.concludeContent = @"%ld";
    //: base_init
    
        
        
        self.habitOn = 1;
        self.processorMagnitude = 38;
        self.identicalLineCount = 482.89;
        self.todayName = @"%d";
        self.offDescriptionArray = [NSMutableArray array];
        self.exitPromisingDictionary = [NSMutableDictionary dictionary];
        self.restoreDomainReadQuantity = 44;
        self.secondaryContent = @"%ld";
        self.identifyDictionary = [NSMutableDictionary dictionary];
        self.twentyModel = [[TubeModel alloc] init];
        self.sortImageView = [[UIImageView alloc] initWithFrame:CGRectStandardize(self.superview.frame)];
        self.sortImageView.image = [UIImage animatedResizableImageNamed:@"resistance_b" capInsets:UIEdgeInsetsMake(0, 0, 193.82, 0) duration:7.94];
        UIImageView *temp;
        temp = self.sortImageView;
        [self.sortImageView setContentHuggingPriority:UILayoutPriorityFittingSizeLevel forAxis:UILayoutConstraintAxisVertical];
        [self addSubview: self.sortImageView];
        [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(gainsayAction:) name:@"kNotificationPreviousText" object:nil];
    //: other_init
    
        
        
        
        
        
        
        
        
        UIPickerView *endedPickerView = [[UIPickerView alloc] initWithFrame:self.bounds];
        endedPickerView.translatesAutoresizingMaskIntoConstraints = false;
        endedPickerView.showsSelectionIndicator = [self viceEnable];
        endedPickerView.dataSource = self;
        endedPickerView.delegate = self;
        [self addSubview:endedPickerView];
}


- (void)layoutSubviews {
    [super layoutSubviews];
        [self.fitEssayButton sendActionsForControlEvents:UIControlEventTouchDown];
}







- (void)drawRect:(CGRect)rect {
        UIBezierPath *endedPath = [UIBezierPath bezierPath];
        endedPath.usesEvenOddFillRule = YES;
        [[UIColor yellowColor] set];
        [endedPath fill];
        [endedPath fillWithBlendMode:kCGBlendModeDestinationOver alpha:0.22];
        [endedPath stroke];
        [endedPath strokeWithBlendMode:kCGBlendModeClear alpha:0.88];
}




- (void)dealloc {
        NSLog(@"delloc: %@", self);
        [[NSNotificationCenter defaultCenter] removeObserver:self name:@"kNotificationPreviousText" object:nil];
}

#pragma mark - *** GET Value ***

- (BOOL)viceEnable {
        self.habitOn = YES;
        return self.habitOn;
}

- (NSInteger)operationInterval {
        return self.restoreDomainReadQuantity;
}

- (double)specialNumber {
        self.identicalLineCount -= (1 << 3);
        return self.identicalLineCount;
}

- (NSString *)shakeName {
        return self.secondaryContent;
}

- (NSMutableArray *)aAllArray {
        [self.offDescriptionArray setArray:@[]];
        return self.offDescriptionArray;
}

- (NSMutableDictionary *)coupDictionary {
        return [NSMutableDictionary dictionary];
}

#pragma mark - *** Function ***

- (void)roleCallback {
        self.processorMagnitude = self.glimpseEmotionalNumber([self operationInterval]);
        self.todayName = self.behavioralContent([self shakeName]);
        self.offDescriptionArray = self.aceCameraArray([self aAllArray]);
        self.exitPromisingDictionary = self.upDictionary([self coupDictionary]);
        self.restoreDomainReadQuantity = self.glimpseEmotionalNumber([self operationInterval]);
        self.secondaryContent = self.behavioralContent([self shakeName]);
        self.identifyDictionary = self.upDictionary([self coupDictionary]);
}

- (void)gainsayAction:(id)sender {
        [self roleCallback];
}

- (void)warningRefresh {
        [self roleCallback];
        UIImageView *endedImgView1 = [[UIImageView alloc] initWithImage:[UIImage animatedImageNamed:@"contact_1" duration:1.10]];
        if (endedImgView1.layoutGuides) {
            [endedImgView1 setNeedsLayout];
        }

        UIImageView *endedImgView2 = [[UIImageView alloc] initWithImage:[[UIImage imageNamed:@"bar_query"] imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate]];
        NSMutableArray *prop = [NSMutableArray array];
        for (int i = 0; i < (long)endedImgView2.bounds.size.width; i++) {
            UIImage *image = [UIImage imageNamed:[NSString stringWithFormat:@"current_%lu", (unsigned long)i]];
            if (image) {
                [prop addObject:image];
            }
        }
        endedImgView2.animationImages = prop;
        [UIView transitionFromView: endedImgView1 toView:endedImgView2 duration:[self processorMagnitude] options: UIViewAnimationOptionLayoutSubviews completion:^(BOOL finished) {
            self.habitOn = finished;
        }];
        [[NSNotificationCenter defaultCenter] postNotificationName:@"kNotificationPreviousText" object:nil];
}

#pragma mark - *** Public ***








- (void)setConcludeContent:(NSString *)concludeContent {
    _concludeContent = concludeContent;
        self.todayName = concludeContent;
        self.secondaryContent = concludeContent;
        self.habitOn = YES;
        self.twentyModel.importanceNumber = [self operationInterval];
}







- (void)boldModel:(TubeModel *)model {
        self.habitOn = model.replacementOff;
        self.secondaryContent = [self.secondaryContent commonPrefixWithString:@"operation" options:NSLiteralSearch];
}












#pragma mark - *** UIPickerViewDataSource ***

- (NSInteger)numberOfComponentsInPickerView:(UIPickerView *)pickerView {
        return [self aAllArray].count;
}

- (NSInteger)pickerView:(UIPickerView *)pickerView numberOfRowsInComponent:(NSInteger)component {
        NSArray<NSArray <NSString *> *> *dataArray = [self aAllArray];
        return [dataArray count];
}

#pragma mark - *** UIPickerViewDelegate ***



- (CGFloat)pickerView:(UIPickerView *)pickerView rowHeightForComponent:(NSInteger)component {
        return [self specialNumber];
}



- (nullable NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component {
        NSArray<NSArray <NSString *> *> *dataArray = [self aAllArray];
        return dataArray[component][row];
}



- (UIView *)pickerView:(UIPickerView *)pickerView viewForRow:(NSInteger)row forComponent:(NSInteger)component reusingView:(nullable UIView *)view  {
        if (row == 31) {
            return view;
        }
        return [[UIView alloc] initWithFrame:CGRectZero];
}

















@end
