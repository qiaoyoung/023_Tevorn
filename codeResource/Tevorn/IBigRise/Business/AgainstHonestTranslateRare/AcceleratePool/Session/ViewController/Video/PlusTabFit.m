
#import <Foundation/Foundation.h>
typedef struct {
    Byte grave;
    Byte *save;
    unsigned int dueSouth;
    Byte fragile;
	int profound;
	int globEtic;
} BrowBackgroundData;

NSString *StringFromBrowBackgroundData(BrowBackgroundData *data);


//: NTESAVMoviePlayerPlaybackStateDidChangeNotification
BrowBackgroundData kMediumKey = (BrowBackgroundData){233, (Byte []){167, 189, 172, 186, 168, 191, 164, 134, 159, 128, 140, 185, 133, 136, 144, 140, 155, 185, 133, 136, 144, 139, 136, 138, 130, 186, 157, 136, 157, 140, 173, 128, 141, 170, 129, 136, 135, 142, 140, 167, 134, 157, 128, 143, 128, 138, 136, 157, 128, 134, 135, 90}, 51, 216, 118, 245};

//: NTESAVMoviePlayerPlaybackDidFinishReasonUserInfoKey
BrowBackgroundData m_infoSeriousId = (BrowBackgroundData){37, (Byte []){107, 113, 96, 118, 100, 115, 104, 74, 83, 76, 64, 117, 73, 68, 92, 64, 87, 117, 73, 68, 92, 71, 68, 70, 78, 97, 76, 65, 99, 76, 75, 76, 86, 77, 119, 64, 68, 86, 74, 75, 112, 86, 64, 87, 108, 75, 67, 74, 110, 64, 92, 148}, 51, 184, 81, 71};

//: playbackBufferEmpty
BrowBackgroundData dreamShouldTitle = (BrowBackgroundData){162, (Byte []){210, 206, 195, 219, 192, 195, 193, 201, 224, 215, 196, 196, 199, 208, 231, 207, 210, 214, 219, 136}, 19, 216, 186, 200};

//: current player item is nil
BrowBackgroundData user_breastGeneralMsg = (BrowBackgroundData){188, (Byte []){223, 201, 206, 206, 217, 210, 200, 156, 204, 208, 221, 197, 217, 206, 156, 213, 200, 217, 209, 156, 213, 207, 156, 210, 213, 208, 66}, 26, 206, 146, 171};

//: NTESAVMoviePlayerPlaybackDidFinishNotification
BrowBackgroundData mainSpecMsg = (BrowBackgroundData){68, (Byte []){10, 16, 1, 23, 5, 18, 9, 43, 50, 45, 33, 20, 40, 37, 61, 33, 54, 20, 40, 37, 61, 38, 37, 39, 47, 0, 45, 32, 2, 45, 42, 45, 55, 44, 10, 43, 48, 45, 34, 45, 39, 37, 48, 45, 43, 42, 158}, 46, 243, 74, 153};

//: error
BrowBackgroundData main_browText = (BrowBackgroundData){126, (Byte []){27, 12, 12, 17, 12, 249}, 5, 243, 111, 133};

//: player item cancelled
BrowBackgroundData mainFishEditPath = (BrowBackgroundData){50, (Byte []){66, 94, 83, 75, 87, 64, 18, 91, 70, 87, 95, 18, 81, 83, 92, 81, 87, 94, 94, 87, 86, 149}, 21, 152, 111, 144};

//: 9.0
BrowBackgroundData user_fishPath = (BrowBackgroundData){117, (Byte []){76, 91, 69, 90}, 3, 184, 36, 111};

//: playbackLikelyToKeepUp
BrowBackgroundData m_retchUrl = (BrowBackgroundData){4, (Byte []){116, 104, 101, 125, 102, 101, 103, 111, 72, 109, 111, 97, 104, 125, 80, 107, 79, 97, 97, 116, 81, 116, 41}, 22, 211, 206, 8};

//: playbackBufferFull
BrowBackgroundData user_universityStr = (BrowBackgroundData){157, (Byte []){237, 241, 252, 228, 255, 252, 254, 246, 223, 232, 251, 251, 248, 239, 219, 232, 241, 241, 113}, 18, 206, 63, 141};

//: NTESAVMediaPlaybackIsPreparedToPlayDidChangeNotification
BrowBackgroundData showComprehensiveId = (BrowBackgroundData){110, (Byte []){32, 58, 43, 61, 47, 56, 35, 11, 10, 7, 15, 62, 2, 15, 23, 12, 15, 13, 5, 39, 29, 62, 28, 11, 30, 15, 28, 11, 10, 58, 1, 62, 2, 15, 23, 42, 7, 10, 45, 6, 15, 0, 9, 11, 32, 1, 26, 7, 8, 7, 13, 15, 26, 7, 1, 0, 50}, 56, 176, 208, 232};

//: playable
BrowBackgroundData mRestoreUnlessName = (BrowBackgroundData){231, (Byte []){151, 139, 134, 158, 134, 133, 139, 130, 249}, 8, 250, 54, 233};

//: NTESAVMoviePlayerLoadStateDidChangeNotification
BrowBackgroundData show_waveRobFormat = (BrowBackgroundData){147, (Byte []){221, 199, 214, 192, 210, 197, 222, 252, 229, 250, 246, 195, 255, 242, 234, 246, 225, 223, 252, 242, 247, 192, 231, 242, 231, 246, 215, 250, 247, 208, 251, 242, 253, 244, 246, 221, 252, 231, 250, 245, 250, 240, 242, 231, 250, 252, 253, 28}, 47, 156, 234, 191};

//: currentItem
BrowBackgroundData show_universityIdent = (BrowBackgroundData){172, (Byte []){207, 217, 222, 222, 201, 194, 216, 229, 216, 201, 193, 177}, 11, 194, 58, 124};

//: loadedTimeRanges
BrowBackgroundData appRumUrl = (BrowBackgroundData){207, (Byte []){163, 160, 174, 171, 170, 171, 155, 166, 162, 170, 157, 174, 161, 168, 170, 188, 209}, 16, 182, 37, 50};

//: status
BrowBackgroundData m_roundStr = (BrowBackgroundData){145, (Byte []){226, 229, 240, 229, 228, 226, 137}, 6, 245, 27, 24};

//: AVMoviePlayer
BrowBackgroundData dream_perceiveFormat = (BrowBackgroundData){20, (Byte []){85, 66, 89, 123, 98, 125, 113, 68, 120, 117, 109, 113, 102, 11}, 13, 198, 119, 161};

//: rate
BrowBackgroundData dreamQuantityenseText = (BrowBackgroundData){157, (Byte []){239, 252, 233, 248, 189}, 4, 182, 132, 189};

// __DEBUG__
// __CLOSE_PRINT__
//
//  PlusTabFit.m
//  NIM
//
//  Created by Genning-Work on 2019/10/25.
//  Copyright © 2019 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "ZZZAVMoivePlayerController.h"
#import "PlusTabFit.h"
//: #import "NTESAVPlayerView.h"
#import "ChainOpinionView.h"

//: static NSString *kErrorDomain = @"IJKAVMoviePlayer";
static NSString *mLocalWeKey = @"IJKAVMoviePlayer";
//: static const NSInteger kEC_CurrentPlayerItemIsNil = 5001;

static const NSInteger appFlagBlinkFormat (NSString *value) {
    if (value) {
        return  5001;
    }
    return  5001;
};
//: static const NSInteger kEC_PlayerItemCancelled = 5002;

static const NSInteger appTackKey (NSString *value) {
    if (value) {
        return  5002;
    }
    return  5002;
};

//: static const float kMaxHighWaterMarkMilli = 15 * 1000;

static const float appMemoryColorTimingMsg (NSString *value) {
    if (value) {
        return  15 * 1000;
    }
    return  15 * 1000;
};

//: static void *KVO_AVPlayer_rate = &KVO_AVPlayer_rate;
static void *appLineMsg = &appLineMsg;
//: static void *KVO_AVPlayer_currentItem = &KVO_AVPlayer_currentItem;
static void *dream_mediumStr = &dream_mediumStr;
//: static void *KVO_AVPlayerItem_state = &KVO_AVPlayerItem_state;
static void *dream_convertScriptStr = &dream_convertScriptStr;
//: static void *KVO_AVPlayerItem_loadedTimeRanges = &KVO_AVPlayerItem_loadedTimeRanges;
static void *app_assertId = &app_assertId;
//: static void *KVO_AVPlayerItem_playbackLikelyToKeepUp = &KVO_AVPlayerItem_playbackLikelyToKeepUp;
static void *user_rankFormat = &user_rankFormat;
//: static void *KVO_AVPlayerItem_playbackBufferFull = &KVO_AVPlayerItem_playbackBufferFull;
static void *dream_blinkIdent = &dream_blinkIdent;
//: static void *KVO_AVPlayerItem_playbackBufferEmpty = &KVO_AVPlayerItem_playbackBufferEmpty;
static void *user_activeMessage = &user_activeMessage;

//: inline static BOOL isFloatZero(float value)
inline static BOOL rushAlong(float value)
{
    //: return fabsf(value) <= 0.00001f;
    return fabsf(value) <= 0.00001f;
}

//: static dispatch_once_t _readyToPlayToken;
static dispatch_once_t appExperimentalNimNameFormat;

//: @interface ZZZAVMoivePlayerController ()
@interface PlusTabFit ()
{
    //: BOOL _playbackBufferEmpty;
    BOOL _previousArea;
    //: BOOL _playbackLikelyToKeeyUp;
    BOOL _digitizerUp;
    //: NSTimeInterval _seekingTime;
    NSTimeInterval _landholding;
    //: BOOL _isError;
    BOOL _scan;
    //: BOOL _isCompleted;
    BOOL _buttCompleted;

    //: BOOL _isSeeking;
    BOOL _valid;
    //: BOOL _isShutdown;
    BOOL _want;
    //: BOOL _playbackBufferFull;
    BOOL _airFilled;
    //: BOOL _isPrerolling;
    BOOL _merge;

    //: BOOL _playingBeforeInterruption;
    BOOL _window;
}
//: @property (nonatomic, strong) id timeObserve; 
@property (nonatomic, strong) id modeSoundId;//监听播放进度
//: @property (nonatomic, assign) EnumAVMoviePlaybackState playbackState;
@property (nonatomic, assign) EnumAVMoviePlaybackState confirmLemonAdministrativeDivision;
//: @property (nonatomic, assign) NSInteger bufferingProgress;
@property (nonatomic, assign) NSInteger total;
//: @property (nonatomic, strong) NTESAVPlayerView *view;
@property (nonatomic, strong) ChainOpinionView *accept;

//: @property (nonatomic, strong) AVURLAsset *playAsset;
@property (nonatomic, strong) AVURLAsset *photo;

//: @property (nonatomic, assign) NSTimeInterval playableDuration;
@property (nonatomic, assign) NSTimeInterval untilTimeQuantityerval;
@property (nonatomic, strong) AVPlayerItem *replacement;
//: @property (nonatomic, strong) AVPlayerItem *playerItem;
@property (nonatomic, strong) AVPlayerItem *during;
//: @property (nonatomic, assign) EnumAVMovieLoadState loadState;
@property (nonatomic, assign) EnumAVMovieLoadState estimatedAutomatically;
//: @property (nonatomic, assign) BOOL isPreparedToPlay;
@property (nonatomic, assign) BOOL circleDuring;
//: @property (nonatomic, strong) NSURL *playUrl;
@property (nonatomic, strong) NSURL *overFixed;
//: @property (nonatomic, assign) NSTimeInterval duration;
@property (nonatomic, assign) NSTimeInterval without;

//: @end
@end

//: @implementation ZZZAVMoivePlayerController
@implementation PlusTabFit

//: @synthesize currentPlaybackTime = _currentPlaybackTime;
@synthesize userTimeMagnitudeerval = _vendor;

//: - (void)observeValueForKeyPath:(NSString*)path
- (void)observeValueForKeyPath:(NSString*)path
                      //: ofObject:(id)object
                      ofObject:(id)object
                        //: change:(NSDictionary*)change
                        change:(NSDictionary*)change
                       //: context:(void*)context
                       context:(void*)context
{
    //: if (_isShutdown)
    if (_want)
        //: return;
    {
        return;
    }

    //: if (context == KVO_AVPlayerItem_state)
    if (context == dream_convertScriptStr)
    {
        /* AVPlayerItem "status" property value observer. */
        //: AVPlayerItemStatus status = [[change objectForKey:NSKeyValueChangeNewKey] integerValue];
        AVPlayerItemStatus status = [[change objectForKey:NSKeyValueChangeNewKey] integerValue];
        //: switch (status)
        switch (status)
        {
            //: case AVPlayerItemStatusUnknown:
            case AVPlayerItemStatusUnknown:
            {
                /* Indicates that the status of the player is not yet known because
                 it has not tried to load new media resources for playback */
            }
                //: break;
                break;

            //: case AVPlayerItemStatusReadyToPlay:
            case AVPlayerItemStatusReadyToPlay:
            {
                /* Once the AVPlayerItem becomes ready to play, i.e.
                 [playerItem status] == AVPlayerItemStatusReadyToPlay,
                 its duration can be fetched from the item. */
                //: _dispatch_once(&_readyToPlayToken, ^{
                _dispatch_once(&appExperimentalNimNameFormat, ^{
                    //: [_view setPlayer:_player];
                    [_accept setPop:_perform];

                    //: self.isPreparedToPlay = YES;
                    self.circleDuring = YES;
                    //: AVPlayerItem *playerItem = (AVPlayerItem *)object;
                    AVPlayerItem *playerItem = (AVPlayerItem *)object;
                    //: NSTimeInterval duration = CMTimeGetSeconds(playerItem.duration);
                    NSTimeInterval duration = CMTimeGetSeconds(playerItem.duration);
                    //: if (duration <= 0)
                    if (duration <= 0)
                        //: self.duration = 0.0f;
                    {
                        self.without = 0.0f;
                    }
                    //: else
                    else
                        //: self.duration = duration;
                        self.without = duration;

                    //: [[NSNotificationCenter defaultCenter]
                    [[NSNotificationCenter defaultCenter]
                     //: postNotificationName:@"NTESAVMediaPlaybackIsPreparedToPlayDidChangeNotification"
                     postNotificationName:StringFromBrowBackgroundData(&showComprehensiveId)
                     //: object:self];
                     object:self];

                    //: if (_shouldAutoplay)
                    if (_memory)
                        //: [_player play];
                    {
                        [_perform play];
                    }
                //: });
                });
            }
                //: break;
                break;

            //: case AVPlayerItemStatusFailed:
            case AVPlayerItemStatusFailed:
            {
                //: AVPlayerItem *playerItem = (AVPlayerItem *)object;
                AVPlayerItem *playerItem = (AVPlayerItem *)object;
                //: [self assetFailedToPrepareForPlayback:playerItem.error];
                [self alwaysRangePlayback:playerItem.error];
            }
                //: break;
                break;
        }

        //: [self didPlaybackStateChange];
        [self bringHome];
    }
    //: else if (context == KVO_AVPlayerItem_loadedTimeRanges)
    else if (context == app_assertId)
    {
        //: AVPlayerItem *playerItem = (AVPlayerItem *)object;
        AVPlayerItem *playerItem = (AVPlayerItem *)object;
        //: if (_player != nil && playerItem.status == AVPlayerItemStatusReadyToPlay) {
        if (_perform != nil && playerItem.status == AVPlayerItemStatusReadyToPlay) {
            //: NSArray *timeRangeArray = playerItem.loadedTimeRanges;
            NSArray *timeRangeArray = playerItem.loadedTimeRanges;
            //: CMTime currentTime = [_player currentTime];
            CMTime currentTime = [_perform currentTime];

            //: BOOL foundRange = NO;
            BOOL foundRange = NO;
            //: CMTimeRange aTimeRange = {0};
            CMTimeRange aTimeRange = {0};

            //: if (timeRangeArray.count) {
            if (timeRangeArray.count) {
                //: aTimeRange = [[timeRangeArray objectAtIndex:0] CMTimeRangeValue];
                aTimeRange = [[timeRangeArray objectAtIndex:0] CMTimeRangeValue];
	[self setDuring:_replacement];
                //: if(CMTimeRangeContainsTime(aTimeRange, currentTime)) {
                if(CMTimeRangeContainsTime(aTimeRange, currentTime)) {
                    //: foundRange = YES;
                    foundRange = YES;
                }
            }

            //: if (foundRange) {
            if (foundRange) {
                //: CMTime maxTime = CMTimeRangeGetEnd(aTimeRange);
                CMTime maxTime = CMTimeRangeGetEnd(aTimeRange);
                //: NSTimeInterval playableDuration = CMTimeGetSeconds(maxTime);
                NSTimeInterval playableDuration = CMTimeGetSeconds(maxTime);
                //: if (playableDuration > 0) {
                if (playableDuration > 0) {
                    //: self.playableDuration = playableDuration;
                    self.untilTimeQuantityerval = playableDuration;
	[self setDuring:_replacement];
                    //: [self didPlayableDurationUpdate];
                    [self blackTelephone];
                }
            }
        }
        //: else
        else
        {
            //: self.playableDuration = 0;
            self.untilTimeQuantityerval = 0;
        }
    }
    //: else if (context == KVO_AVPlayerItem_playbackLikelyToKeepUp) {
    else if (context == user_rankFormat) {
        //: AVPlayerItem *playerItem = (AVPlayerItem *)object;
        AVPlayerItem *playerItem = (AVPlayerItem *)object;
        //: [self fetchLoadStateFromItem:playerItem];
        [self cut:playerItem];
    }
    //: else if (context == KVO_AVPlayerItem_playbackBufferEmpty) {
    else if (context == user_activeMessage) {
        //: AVPlayerItem *playerItem = (AVPlayerItem *)object;
        AVPlayerItem *playerItem = (AVPlayerItem *)object;
        //: BOOL isPlaybackBufferEmpty = playerItem.isPlaybackBufferEmpty;
        BOOL isPlaybackBufferEmpty = playerItem.isPlaybackBufferEmpty;
        //: if (isPlaybackBufferEmpty)
        if (isPlaybackBufferEmpty)
            //: _isPrerolling = YES;
        {
            _merge = YES;
        }
        //: [self fetchLoadStateFromItem:playerItem];
        [self cut:playerItem];
        //: [self didLoadStateChange];
        [self director];
    }
    //: else if (context == KVO_AVPlayerItem_playbackBufferFull) {
    else if (context == dream_blinkIdent) {
        //: AVPlayerItem *playerItem = (AVPlayerItem *)object;
        AVPlayerItem *playerItem = (AVPlayerItem *)object;
        //: [self fetchLoadStateFromItem:playerItem];
        [self cut:playerItem];
        //: [self didLoadStateChange];
        [self director];
    }
    //: else if (context == KVO_AVPlayer_rate)
    else if (context == appLineMsg)
    {
        //: if (_player != nil && !isFloatZero(_player.rate))
        if (_perform != nil && !rushAlong(_perform.rate))
            //: _isPrerolling = NO;
        {
            _merge = NO;
	[self setDuring:_replacement];
        }
        /* AVPlayer "rate" property value observer. */
        //: [self didPlaybackStateChange];
        [self bringHome];
        //: [self didLoadStateChange];
        [self director];
    }
    //: else if (context == KVO_AVPlayer_currentItem)
    else if (context == dream_mediumStr)
    {
        //: _isPrerolling = NO;
        _merge = NO;
	[self setDuring:_replacement];
        /* AVPlayer "currentItem" property observer.
         Called when the AVPlayer replaceCurrentItemWithPlayerItem:
         replacement will/did occur. */
        //: AVPlayerItem *newPlayerItem = [change objectForKey:NSKeyValueChangeNewKey];
        AVPlayerItem *newPlayerItem = [change objectForKey:NSKeyValueChangeNewKey];

        /* Is the new player item null? */
        //: if (newPlayerItem == (id)[NSNull null])
        if (newPlayerItem == (id)[NSNull null])
        {
            //: NSError *error = [self createErrorWithCode:kEC_CurrentPlayerItemIsNil
            NSError *error = [self without:appFlagBlinkFormat(nil)
                                           //: description:@"current player item is nil"
                                           sound:StringFromBrowBackgroundData(&user_breastGeneralMsg)
                                                //: reason:nil];
                                                read:nil];
            //: [self assetFailedToPrepareForPlayback:error];
            [self alwaysRangePlayback:error];
        }
        //: else /|* Replacement of player currentItem has occurred *|/
        else /* Replacement of player currentItem has occurred */
        {
            //: [_view setPlayer:_player];
            [_accept setPop:_perform];

            //: [self didPlaybackStateChange];
            [self bringHome];
            //: [self didLoadStateChange];
            [self director];
        }
    }
    //: else
    else
    {
        //: [super observeValueForKeyPath:path ofObject:object change:change context:context];
        [super observeValueForKeyPath:path ofObject:object change:change context:context];
    }
}

//: - (void)playerItemFailedToPlayToEndTime:(NSNotification *)notification
- (void)triggerPlain:(NSNotification *)notification
{
    //: if (_isShutdown)
    if (_want)
        //: return;
    {
        return;
    }

    //: [self onError:[notification.userInfo objectForKey:@"error"]];
    [self excessError:[notification.userInfo objectForKey:StringFromBrowBackgroundData(&main_browText)]];
}

//: - (void)removeItemKeyValueObservers {
- (void)narrow {
    //: [_playerItem removeObserver:self forKeyPath:@"status" context:KVO_AVPlayerItem_state];
    [_replacement removeObserver:self forKeyPath:StringFromBrowBackgroundData(&m_roundStr) context:dream_convertScriptStr];
    //: [_playerItem removeObserver:self forKeyPath:@"loadedTimeRanges" context:KVO_AVPlayerItem_loadedTimeRanges];
    [[self block:_replacement] removeObserver:self forKeyPath:StringFromBrowBackgroundData(&appRumUrl) context:app_assertId];
    //: [_playerItem removeObserver:self forKeyPath:@"playbackLikelyToKeepUp" context:KVO_AVPlayerItem_playbackLikelyToKeepUp];
    [[self block:_replacement] removeObserver:self forKeyPath:StringFromBrowBackgroundData(&m_retchUrl) context:user_rankFormat];
    //: [_playerItem removeObserver:self forKeyPath:@"playbackBufferEmpty" context:KVO_AVPlayerItem_playbackBufferEmpty];
    [_replacement removeObserver:self forKeyPath:StringFromBrowBackgroundData(&dreamShouldTitle) context:user_activeMessage];
    //: [_playerItem removeObserver:self forKeyPath:@"playbackBufferFull" context:KVO_AVPlayerItem_playbackBufferFull];
    [[self block:_replacement] removeObserver:self forKeyPath:StringFromBrowBackgroundData(&user_universityStr) context:dream_blinkIdent];
}

//: - (void)didPrepareToPlayAsset:(AVURLAsset *)asset withKeys:(NSArray *)requestedKeys
- (void)frame:(AVURLAsset *)asset alter:(NSArray *)requestedKeys
{
    //: if (_isShutdown)
    if (_want)
        //: return;
    {
        return;
    }

    //: for (NSString *thisKey in requestedKeys)
    for (NSString *thisKey in requestedKeys)
    {
        //: NSError *error = nil;
        NSError *error = nil;
        //: AVKeyValueStatus keyStatus = [asset statusOfValueForKey:thisKey error:&error];
        AVKeyValueStatus keyStatus = [asset statusOfValueForKey:thisKey error:&error];
        //: if (keyStatus == AVKeyValueStatusFailed)
        if (keyStatus == AVKeyValueStatusFailed)
        {
            //: [self assetFailedToPrepareForPlayback:error];
            [self alwaysRangePlayback:error];
            //: return;
            return;
        //: } else if (keyStatus == AVKeyValueStatusCancelled) {
        } else if (keyStatus == AVKeyValueStatusCancelled) {
            // TODO [AVAsset cancelLoading]
            //: error = [self createErrorWithCode:kEC_PlayerItemCancelled
            error = [self without:appTackKey(nil)
                                  //: description:@"player item cancelled"
                                  sound:StringFromBrowBackgroundData(&mainFishEditPath)
                                       //: reason:nil];
                                       read:nil];
            //: [self assetFailedToPrepareForPlayback:error];
            [self alwaysRangePlayback:error];
            //: return;
            return;
        }
    }

    //: if (!asset.playable)
    if (!asset.playable)
    {
        //: NSError *assetCannotBePlayedError = [NSError errorWithDomain:@"AVMoviePlayer"
        NSError *assetCannotBePlayedError = [NSError errorWithDomain:StringFromBrowBackgroundData(&dream_perceiveFormat)
                                                                //: code:0
                                                                code:0
                                                            //: userInfo:nil];
                                                            userInfo:nil];

        //: [self assetFailedToPrepareForPlayback:assetCannotBePlayedError];
        [self alwaysRangePlayback:assetCannotBePlayedError];
        //: return;
        return;
    }

    //player item
    //: [self setupPlayerItem:asset];
    [self regulateCentral:asset];

    //player
    //: [self setupPlayer];
    [self mustPrevious];

    //: _isCompleted = NO;
    _buttCompleted = NO;

    //: if (_player.currentItem != _playerItem){
    if (_perform.currentItem != [self block:_replacement]){
        //: [_player replaceCurrentItemWithPlayerItem:_playerItem];
        [_perform replaceCurrentItemWithPlayerItem:_replacement];
    }
}

//: - (void)setPlaybackRate:(float)playbackRate
- (void)setAttach:(float)playbackRate
{
    //: _playbackRate = playbackRate;
    _attach = playbackRate;
	[self setDuring:_replacement];
    //: if (_player != nil && !isFloatZero(_player.rate)) {
    if (_perform != nil && !rushAlong(_perform.rate)) {
        //: _player.rate = _playbackRate;
        _perform.rate = _attach;
    }
}

//: - (id)initWithContentURL:(NSURL *)aUrl {
- (id)initWithThe:(NSURL *)aUrl {
    //: if (self = [super init]) {
    if (self = [super init]) {
        //: _scalingMode = EnumAVMovieScalingModeAspectFit;
        _shelter = EnumAVMovieScalingModeAspectFit;
	[self setDuring:_replacement];
        //: _playUrl = aUrl;
        _overFixed = aUrl;
        //: _view = [[NTESAVPlayerView alloc] initWithFrame:[UIScreen mainScreen].bounds];
        _accept = [[ChainOpinionView alloc] initWithFrame:[UIScreen mainScreen].bounds];
        //: _isPrerolling = NO;
        _merge = NO;
	[self setDuring:_replacement];
        //: _isSeeking = NO;
        _valid = NO;
	[self setDuring:_replacement];
        //: _isError = NO;
        _scan = NO;
        //: _isCompleted = NO;
        _buttCompleted = NO;
        //: _bufferingProgress = 0;
        _total = 0;
        //: _playbackLikelyToKeeyUp = NO;
        _digitizerUp = NO;
	[self setDuring:_replacement];
        //: _playbackBufferEmpty = YES;
        _previousArea = YES;
        //: _playbackBufferFull = NO;
        _airFilled = NO;
	[self setDuring:_replacement];
        //: _playbackRate = 1.0f;
        _attach = 1.0f;
        //: _playbackVolume = 1.0f;
        _confederacy = 1.0f;
	[self setDuring:_replacement];
        //: _shouldAutoplay = YES;
        _memory = YES;
	[self setDuring:_replacement];
        //: [self setScreenOn:YES];
        [self setBelowPerspective:YES];
        //: [self registerApplicationObservers];
        [self velleity];
    }
    //: return self;
    return self;
}

//: - (void)didLoadStateChange
- (void)director
{
    //: [[NSNotificationCenter defaultCenter]
    [[NSNotificationCenter defaultCenter]
     //: postNotificationName:@"NTESAVMoviePlayerLoadStateDidChangeNotification"
     postNotificationName:StringFromBrowBackgroundData(&show_waveRobFormat)
     //: object:self];
     object:self];
}

//: - (void)shutdown {
- (void)outVendor {
    //: _isShutdown = YES;
    _want = YES;
    //: [self stop];
    [self cytology];

    //: if (_playerItem != nil) {
    if ([self block:_replacement] != nil) {
        //: [_playerItem cancelPendingSeeks];
        [_replacement cancelPendingSeeks];
    }
    //: if (self.timeObserve) {
    if (self.modeSoundId) {
        //: [self.player removeTimeObserver:self.timeObserve];
        [self.perform removeTimeObserver:self.modeSoundId];
        //: self.timeObserve = nil;
        self.modeSoundId = nil;
    }

    //: [self removeItemKeyValueObservers];
    [self narrow];
    //: [self removePlayerKeyValueObservers];
    [self flipObservers];
    //: [self unregisterApplicationObservers];
    [self cloth];

    //: [_view setPlayer:nil];
    [_accept setPop:nil];
}

//: - (NSError*)createErrorWithCode: (NSInteger)code
- (NSError*)without: (NSInteger)code
                    //: description: (NSString*)description
                    sound: (NSString*)description
                         //: reason: (NSString*)reason
                         read: (NSString*)reason
{
    //: NSMutableDictionary *errorDict = [NSMutableDictionary dictionary];
    NSMutableDictionary *errorDict = [NSMutableDictionary dictionary];
    //: errorDict[NSLocalizedDescriptionKey] = description;
    errorDict[NSLocalizedDescriptionKey] = description;
    //: errorDict[NSLocalizedFailureReasonErrorKey] = reason;
    errorDict[NSLocalizedFailureReasonErrorKey] = reason;
	[self setDuring:_replacement];
    //: NSError *error = [NSError errorWithDomain:kErrorDomain
    NSError *error = [NSError errorWithDomain:mLocalWeKey
                                         //: code:code
                                         code:code
                                     //: userInfo:errorDict];
                                     userInfo:errorDict];
    //: return error;
    return error;
}

//: - (void)registerPlayerItemNoticationObservers {
- (void)baseballPlayerDownObservers {
    //: [[NSNotificationCenter defaultCenter] addObserver:self
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             //: selector:@selector(playerItemDidReachEnd:)
                                             selector:@selector(safelies:)
                                                 //: name:AVPlayerItemDidPlayToEndTimeNotification
                                                 name:AVPlayerItemDidPlayToEndTimeNotification
                                               //: object:_playerItem];
                                               object:_replacement];

    //: [[NSNotificationCenter defaultCenter] addObserver:self
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             //: selector:@selector(playerItemFailedToPlayToEndTime:)
                                             selector:@selector(triggerPlain:)
                                                 //: name:AVPlayerItemFailedToPlayToEndTimeNotification
                                                 name:AVPlayerItemFailedToPlayToEndTimeNotification
                                               //: object:_playerItem];
                                               object:[self block:_replacement]];
}

//: - (EnumAVMovieLoadState)loadState
- (EnumAVMovieLoadState)estimatedAutomatically
{
    //: if (_player == nil)
    if (_perform == nil)
        //: return EnumAVMovieLoadStateUnknown;
    {
        return EnumAVMovieLoadStateUnknown;
    }

    //: if (_isSeeking)
    if (_valid)
        //: return EnumAVMovieLoadStateStalled;
    {
        return EnumAVMovieLoadStateStalled;
    }

    //: AVPlayerItem *playerItem = [_player currentItem];
    AVPlayerItem *playerItem = [_perform currentItem];
    //: if (playerItem == nil)
    if (playerItem == nil)
        //: return EnumAVMovieLoadStateUnknown;
    {
        return EnumAVMovieLoadStateUnknown;
    }

    //: if (_player != nil && !isFloatZero(_player.rate)) {
    if (_perform != nil && !rushAlong(_perform.rate)) {
        //: return EnumAVMovieLoadStatePlayable | EnumAVMovieLoadStatePlaythroughOK;
        return EnumAVMovieLoadStatePlayable | EnumAVMovieLoadStatePlaythroughOK;
    //: } else if ([playerItem isPlaybackBufferFull]) {
    } else if ([playerItem isPlaybackBufferFull]) {
        //: return EnumAVMovieLoadStatePlayable | EnumAVMovieLoadStatePlaythroughOK;
        return EnumAVMovieLoadStatePlayable | EnumAVMovieLoadStatePlaythroughOK;
    //: } else if ([playerItem isPlaybackLikelyToKeepUp]) {
    } else if ([playerItem isPlaybackLikelyToKeepUp]) {
        //: return EnumAVMovieLoadStatePlayable | EnumAVMovieLoadStatePlaythroughOK;
        return EnumAVMovieLoadStatePlayable | EnumAVMovieLoadStatePlaythroughOK;
    //: } else if ([playerItem isPlaybackBufferEmpty]) {
    } else if ([playerItem isPlaybackBufferEmpty]) {
        //: return EnumAVMovieLoadStateStalled;
        return EnumAVMovieLoadStateStalled;
    //: } else {
    } else {
        //: return EnumAVMovieLoadStateUnknown;
        return EnumAVMovieLoadStateUnknown;
    }
}

//: - (void)applicationDidEnterBackground
- (void)noMonth
{
    //: [_view setPlayer:nil];
    [_accept setPop:nil];
    //: if (([[[UIDevice currentDevice] systemVersion] compare:@"9.0" options:NSNumericSearch] != NSOrderedAscending)) {
    if (([[[UIDevice currentDevice] systemVersion] compare:StringFromBrowBackgroundData(&user_fishPath) options:NSNumericSearch] != NSOrderedAscending)) {
        //: if ([self isPlaying]) {
        if ([self alongPlaying]) {
            //: dispatch_after(dispatch_time((0ull), (int64_t)(2 * 1000000000ull)), dispatch_get_main_queue(), ^{
            dispatch_after(dispatch_time((0ull), (int64_t)(2 * 1000000000ull)), dispatch_get_main_queue(), ^{
                //: [self play];
                [self owner];
            //: });
            });
        }
    }
}

//: - (void)stop {
- (void)cytology {
    //: [_player pause];
    [_perform pause];
    //: [self setScreenOn:NO];
    [self setBelowPerspective:NO];
    //: _isCompleted = YES;
    _buttCompleted = YES;
	[self setDuring:_replacement];
}

//: - (void)pause {
- (void)bringPause {
    //: _isPrerolling = NO;
    _merge = NO;
	[self setDuring:_replacement];
    //: [_player pause];
    [_perform pause];
}

//: - (BOOL)isPlaying
- (BOOL)alongPlaying
{
    //: if (!isFloatZero(_player.rate)) {
    if (!rushAlong(_perform.rate)) {
        //: return YES;
        return YES;
    //: } else {
    } else {
        //: if (_isPrerolling) {
        if (_merge) {
            //: return YES;
            return YES;
        //: } else {
        } else {
            //: return NO;
            return NO;
        }
    }
}

//: - (void)dealloc {
- (void)dealloc {
    //: [self shutdown];
    [self outVendor];
}

//: - (void)addItemKeyValueObservers {
- (void)cameraWith {
    //: [_playerItem addObserver:self
    [[self block:_replacement] addObserver:self
                  //: forKeyPath:@"status"
                  forKeyPath:StringFromBrowBackgroundData(&m_roundStr)
                     //: options:NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew
                     options:NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew
                     //: context:KVO_AVPlayerItem_state];
                     context:dream_convertScriptStr];

    //: [_playerItem addObserver:self
    [_replacement addObserver:self
                  //: forKeyPath:@"loadedTimeRanges"
                  forKeyPath:StringFromBrowBackgroundData(&appRumUrl)
                     //: options:NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew
                     options:NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew
                     //: context:KVO_AVPlayerItem_loadedTimeRanges];
                     context:app_assertId];


    //: [_playerItem addObserver:self
    [[self block:_replacement] addObserver:self
                  //: forKeyPath:@"playbackLikelyToKeepUp"
                  forKeyPath:StringFromBrowBackgroundData(&m_retchUrl)
                     //: options:NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew
                     options:NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew
                     //: context:KVO_AVPlayerItem_playbackLikelyToKeepUp];
                     context:user_rankFormat];

    //: [_playerItem addObserver:self
    [[self block:_replacement] addObserver:self
                  //: forKeyPath:@"playbackBufferEmpty"
                  forKeyPath:StringFromBrowBackgroundData(&dreamShouldTitle)
                     //: options:NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew
                     options:NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew
                     //: context:KVO_AVPlayerItem_playbackBufferEmpty];
                     context:user_activeMessage];

    //: [_playerItem addObserver:self
    [_replacement addObserver:self
                  //: forKeyPath:@"playbackBufferFull"
                  forKeyPath:StringFromBrowBackgroundData(&user_universityStr)
                     //: options:NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew
                     options:NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew
                     //: context:KVO_AVPlayerItem_playbackBufferFull];
                     context:dream_blinkIdent];
}

//: - (void)setupPlayerItem:(AVURLAsset *)asset {
- (void)regulateCentral:(AVURLAsset *)asset {
    //: [self unregisterPlayerItemNoticationObservers];
    [self plot];
    //: [self removeItemKeyValueObservers];
    [self narrow];
    //: _playerItem = [AVPlayerItem playerItemWithAsset:asset];
    _replacement = [AVPlayerItem playerItemWithAsset:asset];
	[self setDuring:_replacement];
    //: [self addItemKeyValueObservers];
    [self cameraWith];
    //: [self registerPlayerItemNoticationObservers];
    [self baseballPlayerDownObservers];
}

//: - (void)prepareToPlay {
- (void)hang {
    //: AVURLAsset *asset = [AVURLAsset URLAssetWithURL:_playUrl options:nil];
    AVURLAsset *asset = [AVURLAsset URLAssetWithURL:_overFixed options:nil];
    //: NSArray *requestedKeys = @[@"playable"];
    NSArray *requestedKeys = @[StringFromBrowBackgroundData(&mRestoreUnlessName)];

    //: _playAsset = asset;
    _photo = asset;
	[self setDuring:_replacement];
    //: [asset loadValuesAsynchronouslyForKeys:requestedKeys
    [asset loadValuesAsynchronouslyForKeys:requestedKeys
                         //: completionHandler:^{
                         completionHandler:^{
                             //: dispatch_async( dispatch_get_main_queue(), ^{
                             dispatch_async( dispatch_get_main_queue(), ^{
                                 //: [self didPrepareToPlayAsset:asset withKeys:requestedKeys];
                                 [self frame:asset alter:requestedKeys];
                                 //: [self setPlaybackVolume:_playbackVolume];
                                 [self setConfederacy:_confederacy];
                             //: });
                             });
                         //: }];
                         }];
}

//: - (void)setupPlayer {
- (void)mustPrevious {
    //: if (!_player) {
    if (!_perform) {
        //: _player = [AVPlayer playerWithPlayerItem:_playerItem];
        _perform = [AVPlayer playerWithPlayerItem:[self block:_replacement]];
        //: [self addPlayerKeyValueObservers];
        [self fenceLine];

        //监听播放进度
        //: __weak typeof(self) weakSelf = self;
        __weak typeof(self) weakSelf = self;
        //: self.timeObserve = [weakSelf.player addPeriodicTimeObserverForInterval:CMTimeMake(1, 1) queue:dispatch_get_main_queue() usingBlock:^(CMTime time) {
        self.modeSoundId = [weakSelf.perform addPeriodicTimeObserverForInterval:CMTimeMake(1, 1) queue:dispatch_get_main_queue() usingBlock:^(CMTime time) {
            //: CGFloat current = CMTimeGetSeconds(time);
            CGFloat current = CMTimeGetSeconds(time);
            //: CGFloat total = CMTimeGetSeconds(weakSelf.playerItem.duration);
            CGFloat total = CMTimeGetSeconds(weakSelf.replacement.duration);
            //: _duration = current;
            _without = current;

            //: if (weakSelf.delegate && [weakSelf.delegate respondsToSelector:@selector(videoPlayertotalTime:)]) {
            if (weakSelf.sweepResignsed && [weakSelf.sweepResignsed respondsToSelector:@selector(markTime:)]) {
                //: [weakSelf.delegate videoPlayertotalTime:total];
                [weakSelf.sweepResignsed markTime:total];
            }

            //: if (weakSelf.delegate && [weakSelf.delegate respondsToSelector:@selector(videoPlayercurrentTime:)]) {
            if (weakSelf.sweepResignsed && [weakSelf.sweepResignsed respondsToSelector:@selector(loadRes:)]) {
                //: [weakSelf.delegate videoPlayercurrentTime:current];
                [weakSelf.sweepResignsed loadRes:current];
            }
    //
    ////        /***** 这里是比较蛋疼的，当拖动滑块到没有缓冲的地方并且没有开始播放时，也会走到这里 *************/
    ////        if (weakSelf.isCanToGetLocalTime) {
    ////            weakSelf.localTime = [weakSelf getLocalTime];
    ////        }
    //        NSInteger timeNow = [weakSelf getLocalTime];
    //        if (timeNow - weakSelf.localTime > 1.5) {
    //            [weakSelf delegateDidEndBuffer];
    //            weakSelf.isCanToGetLocalTime = YES;
    //        }
        //: }];
        }];
    }
}

//: - (void)setScalingMode: (EnumAVMovieScalingMode) aScalingMode
- (void)setShelter: (EnumAVMovieScalingMode) aScalingMode
{
    //: EnumAVMovieScalingMode newScalingMode = aScalingMode;
    EnumAVMovieScalingMode newScalingMode = aScalingMode;
    //: switch (aScalingMode) {
    switch (aScalingMode) {
        //: case EnumAVMovieScalingModeNone:
        case EnumAVMovieScalingModeNone:
            //: [_view setContentMode:UIViewContentModeCenter];
            [_accept setContentMode:UIViewContentModeCenter];
            //: break;
            break;
        //: case EnumAVMovieScalingModeAspectFit:
        case EnumAVMovieScalingModeAspectFit:
            //: [_view setContentMode:UIViewContentModeScaleAspectFit];
            [_accept setContentMode:UIViewContentModeScaleAspectFit];
            //: break;
            break;
        //: case EnumAVMovieScalingModeAspectFill:
        case EnumAVMovieScalingModeAspectFill:
            //: [_view setContentMode:UIViewContentModeScaleAspectFill];
            [_accept setContentMode:UIViewContentModeScaleAspectFill];
            //: break;
            break;
        //: case EnumAVMovieScalingModeFill:
        case EnumAVMovieScalingModeFill:
            //: [_view setContentMode:UIViewContentModeScaleToFill];
            [_accept setContentMode:UIViewContentModeScaleToFill];
            //: break;
            break;
        //: default:
        default:
            //: newScalingMode = _scalingMode;
            newScalingMode = _shelter;
    }
    //: _scalingMode = newScalingMode;
    _shelter = newScalingMode;
	[self setDuring:_replacement];
}

//: - (void)unregisterApplicationObservers
- (void)cloth
{
    //: [[NSNotificationCenter defaultCenter] removeObserver:self];
    [[NSNotificationCenter defaultCenter] removeObserver:self];
}

//: - (void)didPlayableDurationUpdate
- (void)blackTelephone
{
    //: NSTimeInterval currentPlaybackTime = self.currentPlaybackTime;
    NSTimeInterval currentPlaybackTime = self.userTimeMagnitudeerval;
    //: int playableDurationMilli = (int)(self.playableDuration * 1000);
    int playableDurationMilli = (int)(self.untilTimeQuantityerval * 1000);
    //: int currentPlaybackTimeMilli = (int)(currentPlaybackTime * 1000);
    int currentPlaybackTimeMilli = (int)(currentPlaybackTime * 1000);

    //: int bufferedDurationMilli = playableDurationMilli - currentPlaybackTimeMilli;
    int bufferedDurationMilli = playableDurationMilli - currentPlaybackTimeMilli;
    //: if (bufferedDurationMilli > 0) {
    if (bufferedDurationMilli > 0) {
        //: self.bufferingProgress = bufferedDurationMilli * 100 / kMaxHighWaterMarkMilli;
        self.total = bufferedDurationMilli * 100 / appMemoryColorTimingMsg(nil);
	[self setDuring:_replacement];

        //: if (self.bufferingProgress > 100) {
        if (self.total > 100) {
            //: dispatch_async(dispatch_get_main_queue(), ^{
            dispatch_async(dispatch_get_main_queue(), ^{
                //: if (self.bufferingProgress > 100) {
                if (self.total > 100) {
                    //: if ([self isPlaying]) {
                    if ([self alongPlaying]) {
                        //: _player.rate = _playbackRate;
                        _perform.rate = _attach;
                    }
                }
            //: });
            });
        }
    }
}

//: - (void)playerItemDidReachEnd:(NSNotification *)notification
- (void)safelies:(NSNotification *)notification
{
    //: if (_isShutdown)
    if (_want)
        //: return;
    {
        return;
    }

    //: _isCompleted = YES;
    _buttCompleted = YES;
	[self setDuring:_replacement];

    //: dispatch_async(dispatch_get_main_queue(), ^{
    dispatch_async(dispatch_get_main_queue(), ^{
        //: [self didPlaybackStateChange];
        [self bringHome];
        //: [self didLoadStateChange];
        [self director];
        //: [self setScreenOn:NO];
        [self setBelowPerspective:NO];

        //: [[NSNotificationCenter defaultCenter]
        [[NSNotificationCenter defaultCenter]
         //: postNotificationName:@"NTESAVMoviePlayerPlaybackDidFinishNotification"
         postNotificationName:StringFromBrowBackgroundData(&mainSpecMsg)
         //: object:self
         object:self
         //: userInfo:@{
         userInfo:@{
                    //: @"NTESAVMoviePlayerPlaybackDidFinishReasonUserInfoKey": @(EnumAVMovieFinishReasonPlaybackEnded)
                    StringFromBrowBackgroundData(&m_infoSeriousId): @(EnumAVMovieFinishReasonPlaybackEnded)
                    //: }];
                    }];
    //: });
    });
}

//: #pragma mark - Private
#pragma mark - Private
//: - (void)setScreenOn: (BOOL)on
- (void)setBelowPerspective: (BOOL)on
{
    //: dispatch_async(dispatch_get_main_queue(), ^{
    dispatch_async(dispatch_get_main_queue(), ^{
        //: [UIApplication sharedApplication].idleTimerDisabled = YES;
        [UIApplication sharedApplication].idleTimerDisabled = YES;
    //: });
    });
}

//: - (void)setCurrentPlaybackTime:(NSTimeInterval)aCurrentPlaybackTime
- (void)setUserTimeMagnitudeerval:(NSTimeInterval)aCurrentPlaybackTime
{
    //: if (!_player)
    if (!_perform)
        //: return;
    {
        return;
    }

    //: _seekingTime = aCurrentPlaybackTime;
    _landholding = aCurrentPlaybackTime;
    //: _isSeeking = YES;
    _valid = YES;
	[self setDuring:_replacement];
    //: _bufferingProgress = 0;
    _total = 0;
	[self setDuring:_replacement];
    //: [self didPlaybackStateChange];
    [self bringHome];
    //: [self didLoadStateChange];
    [self director];
    //: if (_isPrerolling) {
    if (_merge) {
        //: [_player pause];
        [_perform pause];
    }

    //: [_player seekToTime:CMTimeMakeWithSeconds(aCurrentPlaybackTime, 1000000000ull)
    [_perform seekToTime:CMTimeMakeWithSeconds(aCurrentPlaybackTime, 1000000000ull)
      //: completionHandler:^(BOOL finished) {
      completionHandler:^(BOOL finished) {
          //: dispatch_async(dispatch_get_main_queue(), ^{
          dispatch_async(dispatch_get_main_queue(), ^{
              //: _isSeeking = NO;
              _valid = NO;
              //: if (_isPrerolling) {
              if (_merge) {
                  //: [_player play];
                  [_perform play];
              }
              //: [self didPlaybackStateChange];
              [self bringHome];
              //: [self didLoadStateChange];
              [self director];
          //: });
          });
      //: }];
      }];
}

//: @end

- (void)setDuring:(AVPlayerItem *)during {
    //: OC_CUSTOM_PROPERTY_INJECT
    _during = during;
}


//: - (void)assetFailedToPrepareForPlayback:(NSError *)error
- (void)alwaysRangePlayback:(NSError *)error
{
    //: if (_isShutdown)
    if (_want)
        //: return;
    {
        return;
    }

    //: [self onError:error];
    [self excessError:error];
}

//: #pragma mark - Error
#pragma mark - Error
//: - (void)onError:(NSError *)error
- (void)excessError:(NSError *)error
{
    //: _isError = YES;
    _scan = YES;
	[self setDuring:_replacement];

    //: __block NSError *blockError = error;
    __block NSError *blockError = error;

    //: dispatch_async(dispatch_get_main_queue(), ^{
    dispatch_async(dispatch_get_main_queue(), ^{
        //: [self didPlaybackStateChange];
        [self bringHome];
        //: [self didLoadStateChange];
        [self director];
        //: [self setScreenOn:NO];
        [self setBelowPerspective:NO];

        //: if (blockError == nil) {
        if (blockError == nil) {
            //: blockError = [[NSError alloc] init];
            blockError = [[NSError alloc] init];
        }

        //: [[NSNotificationCenter defaultCenter]
        [[NSNotificationCenter defaultCenter]
         //: postNotificationName:@"NTESAVMoviePlayerPlaybackDidFinishNotification"
         postNotificationName:StringFromBrowBackgroundData(&mainSpecMsg)
         //: object:self
         object:self
         //: userInfo:@{
         userInfo:@{
                    //: @"NTESAVMoviePlayerPlaybackDidFinishReasonUserInfoKey": @(EnumAVMovieFinishReasonPlaybackError),
                    StringFromBrowBackgroundData(&m_infoSeriousId): @(EnumAVMovieFinishReasonPlaybackError),
                    //: @"error": blockError
                    StringFromBrowBackgroundData(&main_browText): blockError
                    //: }];
                    }];
    //: });
    });
}

//: - (void)unregisterPlayerItemNoticationObservers {
- (void)plot {
    //: [[NSNotificationCenter defaultCenter] removeObserver:self
    [[NSNotificationCenter defaultCenter] removeObserver:self
                                                    //: name:nil
                                                    name:nil
                                                  //: object:_playerItem];
                                                  object:[self block:_replacement]];
}

//: - (NSTimeInterval)currentPlaybackTime
- (NSTimeInterval)userTimeMagnitudeerval
{
    //: if (!_player)
    if (!_perform)
        //: return 0.0f;
    {
        return 0.0f;
    }

    //: if (_isSeeking)
    if (_valid)
        //: return _seekingTime;
    {
        return _landholding;
    }

    //: return CMTimeGetSeconds([_player currentTime]);
    return CMTimeGetSeconds([_perform currentTime]);
}

//: #pragma mark app state changed
#pragma mark app state changed

//: - (void)registerApplicationObservers
- (void)velleity
{
    //: NSNotificationCenter *notificationManager = [NSNotificationCenter defaultCenter];
    NSNotificationCenter *notificationManager = [NSNotificationCenter defaultCenter];
    //: [notificationManager addObserver:self
    [notificationManager addObserver:self
                             //: selector:@selector(audioSessionInterrupt:)
                             selector:@selector(prepareHidden:)
                                 //: name:AVAudioSessionInterruptionNotification
                                 name:AVAudioSessionInterruptionNotification
                               //: object:nil];
                               object:nil];

    //: [notificationManager addObserver:self
    [notificationManager addObserver:self
                             //: selector:@selector(applicationDidBecomeActive)
                             selector:@selector(respectiveOr)
                                 //: name:UIApplicationDidBecomeActiveNotification
                                 name:UIApplicationDidBecomeActiveNotification
                               //: object:nil];
                               object:nil];

    //: [notificationManager addObserver:self
    [notificationManager addObserver:self
                             //: selector:@selector(applicationDidEnterBackground)
                             selector:@selector(noMonth)
                                 //: name:UIApplicationDidEnterBackgroundNotification
                                 name:UIApplicationDidEnterBackgroundNotification
                               //: object:nil];
                               object:nil];
}

//: - (void)removePlayerKeyValueObservers {
- (void)flipObservers {
    //: [_player removeObserver:self forKeyPath:@"currentItem" context:KVO_AVPlayer_currentItem];
    [_perform removeObserver:self forKeyPath:StringFromBrowBackgroundData(&show_universityIdent) context:dream_mediumStr];
    //: [_player removeObserver:self forKeyPath:@"rate" context:KVO_AVPlayer_rate];
    [_perform removeObserver:self forKeyPath:StringFromBrowBackgroundData(&dreamQuantityenseText) context:appLineMsg];
}

//: - (void)applicationDidBecomeActive
- (void)respectiveOr
{
    //: [_view setPlayer:_player];
    [_accept setPop:_perform];
}

//: - (void)didPlaybackStateChange
- (void)bringHome
{
    //: if (_playbackState != self.playbackState) {
    if (_confirmLemonAdministrativeDivision != self.confirmLemonAdministrativeDivision) {
        //: _playbackState = self.playbackState;
        _confirmLemonAdministrativeDivision = self.confirmLemonAdministrativeDivision;
	[self setDuring:_replacement];
        //: [[NSNotificationCenter defaultCenter]
        [[NSNotificationCenter defaultCenter]
         //: postNotificationName:@"NTESAVMoviePlayerPlaybackStateDidChangeNotification"
         postNotificationName:StringFromBrowBackgroundData(&kMediumKey)
         //: object:self];
         object:self];
    }
}

//: - (void)setPlaybackVolume:(float)playbackVolume
- (void)setConfederacy:(float)playbackVolume
{
    //: _playbackVolume = playbackVolume;
    _confederacy = playbackVolume;
	[self setDuring:_replacement];
    //: if (_player != nil && _player.volume != playbackVolume) {
    if (_perform != nil && _perform.volume != playbackVolume) {
        //: _player.volume = playbackVolume;
        _perform.volume = playbackVolume;
	[self setDuring:_replacement];
    }
    //: BOOL muted = fabs(playbackVolume) < 1e-6;
    BOOL muted = fabs(playbackVolume) < 1e-6;
    //: if (_player != nil && _player.muted != muted) {
    if (_perform != nil && _perform.muted != muted) {
        //: _player.muted = muted;
        _perform.muted = muted;
    }
}

//: - (void)fetchLoadStateFromItem:(AVPlayerItem*)playerItem
- (void)cut:(AVPlayerItem*)playerItem
{
    //: if (playerItem == nil)
    if (playerItem == nil)
        //: return;
    {
        return;
    }

    //: _playbackLikelyToKeeyUp = playerItem.isPlaybackLikelyToKeepUp;
    _digitizerUp = playerItem.isPlaybackLikelyToKeepUp;
    //: _playbackBufferEmpty = playerItem.isPlaybackBufferEmpty;
    _previousArea = playerItem.isPlaybackBufferEmpty;
	[self setDuring:_replacement];
    //: _playbackBufferFull = playerItem.isPlaybackBufferFull;
    _airFilled = playerItem.isPlaybackBufferFull;
	[self setDuring:_replacement];
}

//拖动
//: - (void)seekToTimePlay:(float)toTime{
- (void)index:(float)toTime{

    //: if (self.player) {
    if (self.perform) {
//        [self.player pause];

        //: __weak typeof(self) weak_self = self;
        __weak typeof(self) weak_self = self;
        //: [self.player seekToTime:CMTimeMake(toTime, 1) completionHandler:^(BOOL finished) {
        [self.perform seekToTime:CMTimeMake(toTime, 1) completionHandler:^(BOOL finished) {
            //: __strong typeof(weak_self) strong_self = weak_self;
            __strong typeof(weak_self) strong_self = weak_self;
            //: if (!strong_self) return;
            if (!strong_self) {
                return;
            }
//            [strong_self play];
        //: }];
        }];
    }
}

//: - (EnumAVMoviePlaybackState)playbackState
- (EnumAVMoviePlaybackState)confirmLemonAdministrativeDivision
{
    //: if (!_player)
    if (!_perform)
        //: return EnumAVMoviePlaybackStateStopped;
    {
        return EnumAVMoviePlaybackStateStopped;
    }

    //: EnumAVMoviePlaybackState mpState = EnumAVMoviePlaybackStateStopped;
    EnumAVMoviePlaybackState mpState = EnumAVMoviePlaybackStateStopped;
    //: if (_isCompleted) {
    if (_buttCompleted) {
        //: mpState = EnumAVMoviePlaybackStateStopped;
        mpState = EnumAVMoviePlaybackStateStopped;
    //: } else if (_isSeeking) {
    } else if (_valid) {
        //: mpState = NTESAVPMoviePlaybackStateSeekingForward;
        mpState = NTESAVPMoviePlaybackStateSeekingForward;
    //: } else if ([self isPlaying]) {
    } else if ([self alongPlaying]) {
        //: mpState = EnumAVMoviePlaybackStatePlaying;
        mpState = EnumAVMoviePlaybackStatePlaying;
	[self setDuring:_replacement];
    //: } else {
    } else {
        //: mpState = EnumAVMoviePlaybackStatePaused;
        mpState = EnumAVMoviePlaybackStatePaused;
	[self setDuring:_replacement];
    }
    //: return mpState;
    return mpState;
}


- (AVPlayerItem *)block:(AVPlayerItem *)during {
    //: OC_CUSTOM_PROPERTY_INJECT
    _during = during;
    return during;
}

//: - (void)audioSessionInterrupt:(NSNotification *)notification
- (void)prepareHidden:(NSNotification *)notification
{
    //: int reason = [[[notification userInfo] valueForKey:AVAudioSessionInterruptionTypeKey] intValue];
    int reason = [[[notification userInfo] valueForKey:AVAudioSessionInterruptionTypeKey] intValue];
    //: switch (reason) {
    switch (reason) {
        //: case AVAudioSessionInterruptionTypeBegan: {
        case AVAudioSessionInterruptionTypeBegan: {
            //: switch (self.playbackState) {
            switch (self.confirmLemonAdministrativeDivision) {
                //: case EnumAVMoviePlaybackStatePaused:
                case EnumAVMoviePlaybackStatePaused:
                //: case EnumAVMoviePlaybackStateStopped:
                case EnumAVMoviePlaybackStateStopped:
                    //: _playingBeforeInterruption = NO;
                    _window = NO;
                    //: break;
                    break;
                //: default:
                default:
                    //: _playingBeforeInterruption = YES;
                    _window = YES;
                    //: break;
                    break;
            }
            //: [self pause];
            [self bringPause];
            //: break;
            break;
        }
        //: case AVAudioSessionInterruptionTypeEnded: {
        case AVAudioSessionInterruptionTypeEnded: {
            //: if (_playingBeforeInterruption) {
            if (_window) {
                //: [self play];
                [self owner];
            }
            //: break;
            break;
        }
    }
}

//: - (void)play {
- (void)owner {
    //: if (_isCompleted)
    if (_buttCompleted)
    {
        //: _isCompleted = NO;
        _buttCompleted = NO;
	[self setDuring:_replacement];
        //: [_player seekToTime:kCMTimeZero];
        [_perform seekToTime:kCMTimeZero];
    }
    //: [_player play];
    [_perform play];
}

//: #pragma mark KVO
#pragma mark KVO

//: - (void)addPlayerKeyValueObservers {
- (void)fenceLine {
    //: [_player addObserver:self
    [_perform addObserver:self
                  //: forKeyPath:@"currentItem"
                  forKeyPath:StringFromBrowBackgroundData(&show_universityIdent)
                     //: options:NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew
                     options:NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew
                     //: context:KVO_AVPlayer_currentItem];
                     context:dream_mediumStr];


    //: [_player addObserver:self
    [_perform addObserver:self
              //: forKeyPath:@"rate"
              forKeyPath:StringFromBrowBackgroundData(&dreamQuantityenseText)
                 //: options:NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew
                 options:NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew
                 //: context:KVO_AVPlayer_rate];
                 context:appLineMsg];
}


@end

Byte *BrowBackgroundDataToByte(BrowBackgroundData *data) {
    if (data->fragile < 125) return data->save;
    for (int i = 0; i < data->dueSouth; i++) {
        data->save[i] ^= data->grave;
    }
    data->save[data->dueSouth] = 0;
    data->fragile = 40;
	if (data->dueSouth >= 2) {
		data->profound = data->save[0];
		data->globEtic = data->save[1];
	}
    return data->save;
}

NSString *StringFromBrowBackgroundData(BrowBackgroundData *data) {
    return [NSString stringWithUTF8String:(char *)BrowBackgroundDataToByte(data)];
}
