#import "AirController.h"
#import "AgentTool.h"
#import "AirDataManager.h"
#import "AirNetManager.h"

#import "FlagController.h"




@interface AirController ()
<UIScrollViewDelegate>


@property (nonatomic, assign) BOOL ultimatenessOff;
@property (nonatomic, assign) NSInteger forwardSum;
@property (nonatomic, assign) double glanceInterval;
@property (nonatomic, strong) NSString *publishTitle;
@property (nonatomic, strong) NSMutableArray *computerArray;
@property (nonatomic, strong) NSMutableDictionary *statementDictionary;

@property (nonatomic, strong) UILabel *carLabel;
@property (nonatomic, strong) UIImageView *beneathImageView;
@property (nonatomic, strong) UIButton *characteristicImportanceButton;
@property (nonatomic, strong) UIView *overView;


@property (nonatomic, assign) NSInteger spaceMagnitude;
@property (nonatomic, assign) double conditionNumber;


@property (nonatomic, strong) NSMutableDictionary *homeDictionary;


@property (nonatomic, strong) UIImageView *transitionImageView;
@property (nonatomic, strong) UIButton *advancedWealthButton;


- (BOOL)wageDoing;
- (NSInteger)pageCount;
- (double)saveQuantity;
- (NSString *)birthdayName;
- (NSMutableArray *)seeArray;
- (NSMutableDictionary *)convertDictionary;

- (void)annualCallback;
- (void)theoreticalRenderAction:(id)sender;
- (void)presentationReload;






@property (nonatomic, strong) UIScrollView *moonScrollView;







@property (nonatomic, strong) UIStepper *keepStepper;





@property (nonatomic, strong) AirDataModel *_Nullable greyishDataModel;


@property (nonatomic, strong) AirView *nimTheoreticalView;
@property (nonatomic, strong) FlagController *qualityController;


@end

@implementation AirController



- (void)viewDidLoad {
    [super viewDidLoad];
    //: property_init






    //: base_init
    
        
        
        self.ultimatenessOff = false;
        self.forwardSum = 95;
        self.glanceInterval = 74.30;
        self.publishTitle = @"%%";
        self.computerArray = [NSMutableArray array];
        self.statementDictionary = [NSMutableDictionary dictionary];
        self.spaceMagnitude = 46;
        self.conditionNumber = 383.48;
        self.homeDictionary = [NSMutableDictionary dictionary];
        self.twentyModel = [[AirModel alloc] initWithDictionary:[self convertDictionary]];
        self.advancedWealthButton = [[UIButton alloc] initWithFrame:CGRectOffset(self.view.bounds, 375.55, 165.94)];
        [self.advancedWealthButton setTitle:[[self birthdayName].capitalizedString stringByAppendingString:@"list"] forState:UIControlStateNormal];
        if (@available(iOS 14.0, *)) {
            [self.advancedWealthButton enumerateEventHandlers:^(UIAction * _Nullable actionHandler, id _Nullable target, SEL _Nullable action, UIControlEvents controlEvents, BOOL *stop) {
                if (actionHandler.state == UIMenuElementStateOn) {
                    *stop = YES;
                }
            }];
        }

        [self.advancedWealthButton addTarget: self action:@selector(theoreticalRenderAction:) forControlEvents: UIControlEventTouchDragExit];
        [self.view addSubview:self.advancedWealthButton];
    //: other_init
    
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        self.keepStepper = [[UIStepper alloc] init];
        [self.view addSubview:self.keepStepper];
        [self.keepStepper addTarget:self action:@selector(theoreticalRenderAction:) forControlEvents:UIControlEventValueChanged];
        self.moonScrollView = [[UIScrollView alloc] initWithFrame:self.view.frame];
        if (@available(iOS 11.0, *)) {
            self.moonScrollView.directionalLayoutMargins = NSDirectionalEdgeInsetsMake(17, 7, 14, 16);
        }

        self.moonScrollView.backgroundColor = [[UIColor alloc] initWithHue:0.12 saturation:0.66 brightness:0.50 alpha:0.96];
        self.moonScrollView.contentSize = self.beneathImageView.frame.size;
        self.moonScrollView.minimumZoomScale = 0.32;
        self.moonScrollView.maximumZoomScale = 3.27;
        self.moonScrollView.zoomScale = 1.25;
        [self.moonScrollView addSubview:self.beneathImageView];
        [self.view addSubview:self.moonScrollView];
    //: private_init
    self.greyishDataModel = [[AirDataModel alloc] init];
        self.nimTheoreticalView = [[AirView alloc] initWithFrame:self.view.frame];
        [self.nimTheoreticalView bearOnModel:self.twentyModel];
    [self.view addSubview:self.nimTheoreticalView];
}








- (void)updateViewConstraints {
    [super updateViewConstraints];
        [UIView animateWithDuration:[self forwardSum] animations:^{
        self.beneathImageView.right = +[self saveQuantity];
        }];
}







- (void)dealloc {
        NSLog(@"delloc: %@", self);
}

#pragma mark - *** GET Value ***

- (BOOL)wageDoing {
        self.ultimatenessOff = YES;
        return self.ultimatenessOff;
}

- (NSInteger)pageCount {
        self.forwardSum = (1 << 5);
        return self.forwardSum;
}

- (double)saveQuantity {
        return 72.44;
}

- (NSString *)birthdayName {
        return self.publishTitle;
}

- (NSMutableArray *)seeArray {
        return self.computerArray;
}

- (NSMutableDictionary *)convertDictionary {
        [self.homeDictionary setDictionary:@{}];
        return self.homeDictionary;
}

#pragma mark - *** Function ***

- (void)annualCallback {
}

- (void)theoreticalRenderAction:(id)sender {
        if (@available(iOS 13.0, *)) {
            self.characteristicImportanceButton.scalesLargeContentImage = NO;
        }



}


- (void)presentationReload {
        [self annualCallback];
        [UIView performSystemAnimation:UISystemAnimationDelete onViews:self.computerArray options:UIViewAnimationOptionTransitionFlipFromBottom animations:^{
        self.overView.backgroundColor = [UIColor clearColor];
        } completion:^(BOOL finished) {
            self.ultimatenessOff = finished;
        }];
        [self.moonScrollView setContentCompressionResistancePriority:UILayoutPriorityDefaultLow forAxis:UILayoutConstraintAxisHorizontal];
        self.keepStepper.value += 1;
        NSNotification *permissionNotificationNotification = [NSNotification notificationWithName:@"kNotificationWillContent" object:nil];
        [[NSNotificationCenter defaultCenter] postNotification:permissionNotificationNotification];
        self.qualityController = [[FlagController alloc] init];
        FlagModel *permissionNotificationModel = [[FlagModel alloc] initWithDictionary:[self convertDictionary]];
        self.qualityController.twentyModel = permissionNotificationModel;
        [[AgentTool currentNavigationController] pushViewController:self.qualityController animated:false];
}

#pragma mark - *** Public ***













- (void)adolescentTriggerSuccess {
        self.carLabel.text = @"Success seem !";
}


- (void)sharedError {
        self.carLabel.text = @"debt !";
}

























#pragma mark - *** UIScrollViewDelegate ***

- (void)scrollViewDidScroll:(UIScrollView *)scrollView {
        CGFloat moveX = scrollView.contentOffset.x - self.overView.bounds.size.width;
        if (fabs(self.glanceInterval) >= self.overView.bounds.size.width) {
            self.glanceInterval = 0;
            return;
        }
        if (fabs(moveX) >= self.overView.bounds.size.width) {
            [self presentationReload];
        }
        self.glanceInterval = moveX;
}



- (void)scrollViewWillEndDragging:(UIScrollView *)scrollView withVelocity:(CGPoint)velocity targetContentOffset:(inout CGPoint *)targetContentOffset {
        if ([self wageDoing]) {
            return;
        }
        CGFloat moveX = scrollView.contentOffset.x - self.overView.bounds.size.width;
        BOOL complete = fabs(moveX) >= self.overView.bounds.size.width * 0.21 || (fabs(velocity.x) > 0 && fabs(moveX) >= self.overView.bounds.size.width * 0.13) ? YES : NO;
        CGFloat targetX = 0;
        if (complete) {
            targetX = 0;
        } else {
            targetX = self.overView.bounds.size.width;
        }
        if (targetX == self.overView.bounds.size.width) {
            targetContentOffset->x = scrollView.contentOffset.x;
            [scrollView setContentOffset:CGPointMake(targetX, targetContentOffset->y) animated:YES];
        } else {
            targetContentOffset->x = targetX;
        }

}










- (UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView {
        return self.beneathImageView;
}



- (void)scrollViewDidEndZooming:(UIScrollView *)scrollView withView:(UIView *)view atScale:(CGFloat)scale {
        self.glanceInterval = scale;
}














@end
