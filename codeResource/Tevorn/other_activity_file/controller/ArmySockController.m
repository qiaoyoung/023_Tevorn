#import "ArmySockController.h"
#import "AgentTool.h"
#import "ArmySockDataManager.h"
#import "ArmySockNetManager.h"

#import "WriteController.h"




@interface ArmySockController ()
<UIGestureRecognizerDelegate>


@property (nonatomic, assign) BOOL dismissGoodEnable;
@property (nonatomic, assign) NSInteger markSum;
@property (nonatomic, assign) double queryQuantity;
@property (nonatomic, strong) NSString *creationContent;
@property (nonatomic, strong) NSMutableArray *borderArray;
@property (nonatomic, strong) NSMutableDictionary *gagNameMarketingDictionary;

@property (nonatomic, strong) UILabel *createComplicatedLabel;
@property (nonatomic, strong) UIImageView *knownLawImageView;
@property (nonatomic, strong) UIButton *professionalButton;
@property (nonatomic, strong) UIView *bathView;

@property (nonatomic, assign) BOOL reportKnownOpen;

@property (nonatomic, assign) double grogTotal;
@property (nonatomic, strong) NSString *carCreativeTitle;
@property (nonatomic, strong) NSMutableArray *lawyerArray;
@property (nonatomic, strong) NSMutableDictionary *translationDictionary;

@property (nonatomic, strong) UILabel *insideAdministrativeLabel;

@property (nonatomic, strong) UIButton *overlookEveryButton;


- (BOOL)pairOff;
- (NSInteger)pullMagnitude;
- (double)powderShirtInterval;
- (NSString *)recordingFileContent;
- (NSMutableArray *)heartArray;
- (NSMutableDictionary *)upgradeDeriveDictionary;

- (void)doingceMoreCallback;
- (void)tillAction:(id)sender;
- (void)depthReload;








@property (nonatomic, strong) UIDatePicker *travelDatePicker;









@property (nonatomic, strong) ArmySockDataModel *_Nullable feedbackDataModel;


@property (nonatomic, strong) ArmySockView *antiVoluntaryView;
@property (nonatomic, strong) WriteController *exceptionController;


@end

@implementation ArmySockController



- (void)viewDidLoad {
    [super viewDidLoad];
    //: property_init

    self.cooperativeQuantity = 13;
    self.nowTotal = 464.41;
    self.modulateArray = [NSMutableArray array];
    self.putUnfortunatelyDictionary = [NSMutableDictionary dictionary];
    //: base_init
    
        
        
        self.dismissGoodEnable = 1;
        self.markSum = (1 << 8);
        self.queryQuantity = 469.53;
        self.creationContent = @"%d";
        self.borderArray = [NSMutableArray array];
        self.gagNameMarketingDictionary = [NSMutableDictionary dictionary];
        self.reportKnownOpen = 0;
        self.grogTotal = 364.06;
        self.carCreativeTitle = @"%u";
        self.lawyerArray = [NSMutableArray array];
        self.translationDictionary = [NSMutableDictionary dictionary];
        self.twentyModel = [[ArmySockModel alloc] init];
        self.professionalButton = [[UIButton alloc] initWithFrame:CGRectIntegral(self.view.superview.frame)];
        [self.professionalButton setTitle:[[self recordingFileContent].uppercaseString stringByAppendingString:@"drift"] forState:UIControlStateNormal];
        [self.professionalButton setTitleColor:[UIColor purpleColor] forState:UIControlStateNormal];
        [self.professionalButton addTarget: self action:@selector(tillAction:) forControlEvents: UIControlEventTouchDragExit];
        [self.view addSubview:self.professionalButton];
        [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(tillAction:) name:@"kNotificationManageName" object:nil];
        [self addObserver:self forKeyPath:@"borderArray" options:NSKeyValueObservingOptionOld context:nil];
        [self addObserver:self forKeyPath:@"lawyerArray" options:NSKeyValueObservingOptionPrior context:nil];
    //: other_init
    
        
        
        
        
        
        
        
        
        
        
        self.travelDatePicker = [[UIDatePicker alloc] initWithFrame:self.view.superview.frame];
        self.travelDatePicker.date = [NSDate distantPast];
//        self.travelDatePicker.locale = random_NSLocale;
        self.travelDatePicker.timeZone = [NSTimeZone timeZoneWithName:@"Asia/Shanghai"];
        [self.view addSubview:self.travelDatePicker];
        [self.travelDatePicker addTarget:self action:@selector(tillAction:) forControlEvents:UIControlEventValueChanged];
        UISwipeGestureRecognizer *deliverySwipe = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(tillAction:)];
        if (@available(iOS 13.4, *)) {
            deliverySwipe.allowedTouchTypes = @[@(UITouchTypePencil), @(UITouchTypeIndirect)];
        }

        
        deliverySwipe.direction = UISwipeGestureRecognizerDirectionRight;
        [self.view addGestureRecognizer:deliverySwipe];
    //: private_init
    self.feedbackDataModel = [[ArmySockDataModel alloc] init];
        self.antiVoluntaryView = [[ArmySockView alloc] init];
        [self.antiVoluntaryView getOffModel:self.twentyModel];
    [self.view addSubview:self.antiVoluntaryView];
}






- (void)viewWillLayoutSubviews {
    [super viewWillLayoutSubviews];
        [UIView performSystemAnimation:UISystemAnimationDelete onViews:self.borderArray options:UIViewAnimationOptionTransitionNone animations:^{
        self.createComplicatedLabel.frame = CGRectMake(306.69, 0, 0, 0);
        } completion:^(BOOL finished) {
            self.dismissGoodEnable = finished;
        }];
}









- (void)dealloc {
        NSLog(@"delloc: %@", self);
        [[NSNotificationCenter defaultCenter] removeObserver:self];
        [self removeObserver:self forKeyPath:@"borderArray"];
        [self removeObserver:self forKeyPath:@"lawyerArray"];
}

#pragma mark - *** GET Value ***

- (BOOL)pairOff {
        return self.dismissGoodEnable;
}

- (NSInteger)pullMagnitude {
        self.markSum = (1 << 3);
        return self.markSum;
}

- (double)powderShirtInterval {
        self.queryQuantity = roundf(self.queryQuantity);
        return self.queryQuantity;
}

- (NSString *)recordingFileContent {
        return @"%d";
}

- (NSMutableArray *)heartArray {
        self.borderArray = [self.borderArray arrayByAddingObjectsFromArray:@[[NSArray arrayWithArray:self.borderArray]]];
        return self.borderArray;
}

- (NSMutableDictionary *)upgradeDeriveDictionary {
        return self.gagNameMarketingDictionary;
}

#pragma mark - *** Function ***

- (void)doingceMoreCallback {
        self.dismissGoodEnable = self.rateDogOn([self pairOff]);
        self.gagNameMarketingDictionary = self.familyCrewLessDictionary([self upgradeDeriveDictionary]);
        self.reportKnownOpen = self.rateDogOn([self pairOff]);
        self.translationDictionary = self.familyCrewLessDictionary([self upgradeDeriveDictionary]);
}

- (void)tillAction:(id)sender {
        [UIView animateWithDuration:[self markSum] delay:[self powderShirtInterval] options:UIViewAnimationOptionPreferredFramesPerSecond60 animations:^{
        [self insideAdministrativeLabel].alpha = 0.02;
        [self overlookEveryButton].height = -[self powderShirtInterval];
        } completion:^(BOOL finished) {
            self.dismissGoodEnable = finished;
        }];
}


- (void)depthReload {
        [self doingceMoreCallback];
        [UIView animateWithDuration:[self markSum] animations:^{
        self.knownLawImageView.origin = CGPointMake(-[self powderShirtInterval], +[self powderShirtInterval]);
        } completion:^(BOOL finished) {
            self.dismissGoodEnable = finished;
        }];
        self.travelDatePicker.countDownDuration = 60 * 53;
        NSNotification *deliveryNotification = [NSNotification notificationWithName:@"kNotificationManageName" object:self];
        [[NSNotificationCenter defaultCenter] postNotification:deliveryNotification];
        [[AgentTool currentNavigationController] popToRootViewControllerAnimated:YES];
}

#pragma mark - *** Public ***




- (void)setCooperativeQuantity:(NSInteger)cooperativeQuantity {
    _cooperativeQuantity = cooperativeQuantity;
        self.markSum = cooperativeQuantity;
        self.creationContent = [NSString stringWithFormat:@"%@", [self.creationContent.capitalizedString stringByAppendingString:@"storage"]];
        self.twentyModel.movieInterval = [self pullMagnitude];
}




- (void)setNowTotal:(double)nowTotal {
    _nowTotal = nowTotal;
        self.queryQuantity = nowTotal;
        self.grogTotal = nowTotal;
        self.dismissGoodEnable = NO;
        self.twentyModel.driftEnable = [self pairOff];
}






- (void)setModulateArray:(NSMutableArray *)modulateArray {
    _modulateArray = modulateArray;
        self.borderArray = modulateArray;
        self.lawyerArray = modulateArray;
        self.grogTotal -= 1;
        self.twentyModel.movieInterval = [self pullMagnitude];
}




- (void)setPutUnfortunatelyDictionary:(NSMutableDictionary *)putUnfortunatelyDictionary {
    _putUnfortunatelyDictionary = putUnfortunatelyDictionary;
        self.gagNameMarketingDictionary = putUnfortunatelyDictionary;
        self.translationDictionary = putUnfortunatelyDictionary;
        if ([self.creationContent isEqualToString:@"match"]) {
            self.creationContent = [self.creationContent.uppercaseString stringByAppendingString:@"someone"];
        }


        
        self.twentyModel.driftEnable = [self pairOff];
}



- (void)frontSuccess {
        NSLog(@"model: %@", self.feedbackDataModel);
}


- (void)plusIdentifyError {
        if (@available(iOS 13.0, *)){
            [UIView modifyAnimationsWithRepeatCount:[self markSum] autoreverses:[self dismissGoodEnable] animations:^{
        self.bathView.centerX = +[self powderShirtInterval];
            }];
        }


}













#pragma mark - *** KVO ***

- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary<NSKeyValueChangeKey, id> *)change context:(void *)context {
        if ([keyPath hasSuffix:@"good"]) {
        self.carCreativeTitle = [NSString stringWithFormat:@"%@", [self.carCreativeTitle.uppercaseString stringByAppendingString:@"signal"]];
        }
        
        
        
        
        [[NSUserDefaults standardUserDefaults] setObject:keyPath forKey:@"member"];
        [[NSUserDefaults standardUserDefaults] setObject:[NSString stringWithFormat:@"%@", context] forKey:@"value"];
}












#pragma mark - *** UIGestureRecognizerDelegate ***


- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch {
        if ([touch.view isKindOfClass:[UIButton class]]) {
            return NO;
        }
        return YES;
}



- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceivePress:(UIPress *)press {
        return [self pairOff];
}



- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer {
        if ([otherGestureRecognizer.view isKindOfClass:[UIButton class]]) {
            return NO;
        }
        return YES;
}




- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldBeRequiredToFailByGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer {
        return [self pairOff];
}











@end
